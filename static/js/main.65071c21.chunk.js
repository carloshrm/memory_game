(this.webpackJsonpmemory_game=this.webpackJsonpmemory_game||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(8),i=n.n(a),s=(n(14),n(4)),o=n.n(s),l=n(9),u=n(7),h=n(2),j=(n(16),n(17),n(0));var d=function(e){var t=e.name,n=e.image,r=e.id,c=e.clickHandler;return Object(j.jsxs)("div",{onClick:function(){return c(r)},className:"ind_card",children:[Object(j.jsx)("img",{src:n,alt:""}),Object(j.jsx)("p",{children:t})]})};var f=function(e){var t=e.scores,n=e.didLose?"You lost...":"You won!!";return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:n}),Object(j.jsxs)("h3",{children:["You scored: ",t.current]}),Object(j.jsxs)("h3",{children:["Highest Score: ",t.highest]})]})};n(19);var m=function(e){var t=e.children,n=e.currentScore,r=e.total;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{className:"game_header",children:["You have guessed: ",n," so far. ",Object(j.jsxs)("p",{children:[r," cards total."]})]}),Object(j.jsx)("div",{className:"game_board",children:t})]})};var b=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(h.a)(a,2),s=i[0],b=i[1],g=Object(r.useState)({current:0,highest:0}),O=Object(h.a)(g,2),p=O[0],x=O[1],v=Object(r.useState)(10),S=Object(h.a)(v,2),w=S[0],y=S[1],k=Object(r.useState)(!1),I=Object(h.a)(k,2),M=I[0],N=I[1];function L(){var e=new Date,t=Array(12).fill("winter",0,3).fill("spring",3,6).fill("summer",6,9).fill("fall",9,12);return[e.getFullYear(),t[e.getMonth()-1]]}function A(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function e(){var t,n,r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L(),n=Object(h.a)(t,2),r=n[0],c=n[1],e.next=3,fetch("https://api.jikan.moe/v3/season/".concat(r,"/").concat(c));case 3:return a=e.sent,e.next=6,a.json();case 6:return i=e.sent,console.error("!! >> FETCHED"),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,n=J(t.anime),c(t.anime),localStorage.setItem("rawData",JSON.stringify(t.anime)),localStorage.setItem("dataAge",JSON.stringify(Date.now())),b(n.slice(0,Math.floor(n.length/w)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return e.reduce((function(e,t){return t.score>5&&!1===t.r18&&e.push({title:t.title,coverImage:t.image_url,clicked:!1}),e}),[])}function _(e){if(s[e].clicked)N(!0);else{x({current:p.current+1,highest:p.current+1>p.highest?p.current+1:p.highest});var t=Object(l.a)(s);t[e].clicked=!0,E(t),b(t)}}function E(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}return Object(r.useEffect)((function(){null===localStorage.getItem("animeList")?D():(b(JSON.parse(localStorage.getItem("animeList"))),c(JSON.parse(localStorage.getItem("rawData"))))}),[]),Object(r.useEffect)((function(){localStorage.setItem("animeList",JSON.stringify(s))}),[s]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("h2",{children:"Anime Memory Game!"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"diff",children:"Power Level:"}),Object(j.jsxs)("select",{name:"diff",onChange:function(e){return y(e.target.value)},children:[Object(j.jsx)("option",{value:"10",children:"Normie"}),Object(j.jsx)("option",{value:"8",children:"Seen AOT"}),Object(j.jsx)("option",{value:"6",children:"Seasonal"}),Object(j.jsx)("option",{value:"2",children:"\uff18\uff10\uff10\uff10\u4ee5\u4e0a\u3060\uff01"})]}),Object(j.jsx)("button",{onClick:function(){if(x({current:0,highest:p.highest}),N(!1),localStorage.getItem("rawData")===[]||Date.now()-localStorage.getItem("dataAge")>864e5)D();else{var e=J(n);E(e),b(e.slice(0,Math.floor(e.length/w)))}},children:"Reset/Refresh"})]})]}),M||p.current===s.length?Object(j.jsx)(f,{scores:p,didLose:M}):Object(j.jsx)(m,{currentScore:p.current,total:s.length,children:s.map((function(e,t){return Object(j.jsx)(d,{id:t,name:e.title,image:e.coverImage,clickHandler:_},t)}))}),Object(j.jsxs)("footer",{children:[Object(j.jsx)("p",{children:"Made By Carlos Moraes, 2021."}),Object(j.jsx)("a",{href:"https://github.com/carloshrm/memory_game",children:"Source on Github."}),Object(j.jsxs)("p",{children:["Seasonal anime data from MyAnimeList.net through"," ",Object(j.jsx)("a",{href:"https://jikan.moe",children:"Jikan API."})," "]})]})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),g()}},[[20,1,2]]]);
//# sourceMappingURL=main.65071c21.chunk.js.map